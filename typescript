// src/convex/gemini.ts
// ... other imports and code

export const askAboutMedicine = action({
  // ... args
  handler: async (ctx, args) => {
    // ... prompt generation

    try {
      const response = await fetch(
        `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.0-pro:generateContent?key=${GEMINI_API_KEY}`,
        {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({
            contents: [{
              parts: [{ text: prompt }]
            }]
          }),
        }
      );

      // ... rest of the handler
    } catch (error) {
      // ... error handling
    }
  },
});
